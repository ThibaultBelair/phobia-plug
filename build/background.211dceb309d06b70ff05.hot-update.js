webpackHotUpdate("background",{

/***/ "./src/js/background.js":
/*!******************************!*\
  !*** ./src/js/background.js ***!
  \******************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _img_logo_phobia_png__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../img/logo_phobia.png */ \"./src/img/logo_phobia.png\");\n/* harmony import */ var _img_logo_phobia_png__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_img_logo_phobia_png__WEBPACK_IMPORTED_MODULE_0__);\n\n\n\n\nvar xhr = new XMLHttpRequest();\nconsole.log(\"je suis ici\")\nxhr.open(\"POST\", \"https://localhost:3001/fake.json\", true); //regarder pour les paramÃ¨tres\nxhr.onreadystatechange = function() {\n  if (xhr.readyState == 4) {\n    // JSON.parse does not evaluate the attacker's scripts.\n    var resp = JSON.parse(xhr.responseText);\n  }\n}\nxhr.send();\n\nconsole.log(\"Je suis dans background.js\");\n\nchrome.runtime.onMessage.addListener(function (request, sender, sendResponse) {\n    if (request.contentScriptQuery == \"getdata\") {\n        var url = request.url + encodeURIComponent(request.url);;\n        fetch(url)\n            .then(response => response.text())\n            .then(text => parsegetdata(text))\n            .then(getdata => sendResponse(getdata))\n            .catch(error => 'cant get any data')\n        return true; //will response asynchronously\n    }\n    if (request.contentScriptQuery == \"postData\") {\n\n\n        const fakeJson = [\n  { \"src\": \"https://i.f1g.fr/media/figaro/375x210_crop/2016/07/08/XVM99245fcc-445d-11e6-b592-d337671c6a4c.jpg 375w, https://i.f1g.fr/media/figaro/680x382_crop/2016/07/08/XVM99245fcc-445d-11e6-b592-d337671c6a4c.jpg 680w\", \"alert\": true },\n  { \"src\": \"https://i.f1g.fr/media/figaro/300x200/2016/07/08/XVM9dff23ec-4381-11e6-aedb-9ff89248825a-300x200.jpg\", \"alert\": false },\n  { \"src\": \"https://i.f1g.fr/media/eidos/52x52_crop/2019/08/23/XVMfcc0d604-b1e3-11e9-a562-34c2d8c63b1e.jpg\", \"alert\": true },\n  { \"src\": \"https://i.f1g.fr/media/eidos/52x52_crop/2019/08/22/XVM8ff88140-c28f-11e9-9a20-eddc30b21241.jpg\", \"alert\": false }\n\n]\n\n        sendResponse(fakeJson)\n\n // fetch(request.url, {\n        //     // mode: 'no-cors',\n        //     method: 'POST',\n        //     headers: {\n        //         'Accept': 'application/json',\n        //         'Content-Type': 'application/json'\n        //     }\n        // })\n        //     .then((response) => {\n        //       console.log(\"je suis la\")\n        //       console.log(response)\n        //       console.log(response.body)\n        //       return response.json()\n        //     })\n        //     .then(response => sendResponse(response))\n        //     .catch(error => console.log('Error:', error));\n        // return true;\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvYmFja2dyb3VuZC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy9iYWNrZ3JvdW5kLmpzPzgxMDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuLi9pbWcvbG9nb19waG9iaWEucG5nJ1xuXG5cblxudmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuY29uc29sZS5sb2coXCJqZSBzdWlzIGljaVwiKVxueGhyLm9wZW4oXCJQT1NUXCIsIFwiaHR0cHM6Ly9sb2NhbGhvc3Q6MzAwMS9mYWtlLmpzb25cIiwgdHJ1ZSk7IC8vcmVnYXJkZXIgcG91ciBsZXMgcGFyYW3DqHRyZXNcbnhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgaWYgKHhoci5yZWFkeVN0YXRlID09IDQpIHtcbiAgICAvLyBKU09OLnBhcnNlIGRvZXMgbm90IGV2YWx1YXRlIHRoZSBhdHRhY2tlcidzIHNjcmlwdHMuXG4gICAgdmFyIHJlc3AgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpO1xuICB9XG59XG54aHIuc2VuZCgpO1xuXG5jb25zb2xlLmxvZyhcIkplIHN1aXMgZGFucyBiYWNrZ3JvdW5kLmpzXCIpO1xuXG5jaHJvbWUucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIoZnVuY3Rpb24gKHJlcXVlc3QsIHNlbmRlciwgc2VuZFJlc3BvbnNlKSB7XG4gICAgaWYgKHJlcXVlc3QuY29udGVudFNjcmlwdFF1ZXJ5ID09IFwiZ2V0ZGF0YVwiKSB7XG4gICAgICAgIHZhciB1cmwgPSByZXF1ZXN0LnVybCArIGVuY29kZVVSSUNvbXBvbmVudChyZXF1ZXN0LnVybCk7O1xuICAgICAgICBmZXRjaCh1cmwpXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS50ZXh0KCkpXG4gICAgICAgICAgICAudGhlbih0ZXh0ID0+IHBhcnNlZ2V0ZGF0YSh0ZXh0KSlcbiAgICAgICAgICAgIC50aGVuKGdldGRhdGEgPT4gc2VuZFJlc3BvbnNlKGdldGRhdGEpKVxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+ICdjYW50IGdldCBhbnkgZGF0YScpXG4gICAgICAgIHJldHVybiB0cnVlOyAvL3dpbGwgcmVzcG9uc2UgYXN5bmNocm9ub3VzbHlcbiAgICB9XG4gICAgaWYgKHJlcXVlc3QuY29udGVudFNjcmlwdFF1ZXJ5ID09IFwicG9zdERhdGFcIikge1xuXG5cbiAgICAgICAgY29uc3QgZmFrZUpzb24gPSBbXG4gIHsgXCJzcmNcIjogXCJodHRwczovL2kuZjFnLmZyL21lZGlhL2ZpZ2Fyby8zNzV4MjEwX2Nyb3AvMjAxNi8wNy8wOC9YVk05OTI0NWZjYy00NDVkLTExZTYtYjU5Mi1kMzM3NjcxYzZhNGMuanBnIDM3NXcsIGh0dHBzOi8vaS5mMWcuZnIvbWVkaWEvZmlnYXJvLzY4MHgzODJfY3JvcC8yMDE2LzA3LzA4L1hWTTk5MjQ1ZmNjLTQ0NWQtMTFlNi1iNTkyLWQzMzc2NzFjNmE0Yy5qcGcgNjgwd1wiLCBcImFsZXJ0XCI6IHRydWUgfSxcbiAgeyBcInNyY1wiOiBcImh0dHBzOi8vaS5mMWcuZnIvbWVkaWEvZmlnYXJvLzMwMHgyMDAvMjAxNi8wNy8wOC9YVk05ZGZmMjNlYy00MzgxLTExZTYtYWVkYi05ZmY4OTI0ODgyNWEtMzAweDIwMC5qcGdcIiwgXCJhbGVydFwiOiBmYWxzZSB9LFxuICB7IFwic3JjXCI6IFwiaHR0cHM6Ly9pLmYxZy5mci9tZWRpYS9laWRvcy81Mng1Ml9jcm9wLzIwMTkvMDgvMjMvWFZNZmNjMGQ2MDQtYjFlMy0xMWU5LWE1NjItMzRjMmQ4YzYzYjFlLmpwZ1wiLCBcImFsZXJ0XCI6IHRydWUgfSxcbiAgeyBcInNyY1wiOiBcImh0dHBzOi8vaS5mMWcuZnIvbWVkaWEvZWlkb3MvNTJ4NTJfY3JvcC8yMDE5LzA4LzIyL1hWTThmZjg4MTQwLWMyOGYtMTFlOS05YTIwLWVkZGMzMGIyMTI0MS5qcGdcIiwgXCJhbGVydFwiOiBmYWxzZSB9XG5cbl1cblxuICAgICAgICBzZW5kUmVzcG9uc2UoZmFrZUpzb24pXG5cbiAvLyBmZXRjaChyZXF1ZXN0LnVybCwge1xuICAgICAgICAvLyAgICAgLy8gbW9kZTogJ25vLWNvcnMnLFxuICAgICAgICAvLyAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIC8vICAgICBoZWFkZXJzOiB7XG4gICAgICAgIC8vICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgLy8gICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vIH0pXG4gICAgICAgIC8vICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgLy8gICAgICAgY29uc29sZS5sb2coXCJqZSBzdWlzIGxhXCIpXG4gICAgICAgIC8vICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKVxuICAgICAgICAvLyAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5ib2R5KVxuICAgICAgICAvLyAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpXG4gICAgICAgIC8vICAgICB9KVxuICAgICAgICAvLyAgICAgLnRoZW4ocmVzcG9uc2UgPT4gc2VuZFJlc3BvbnNlKHJlc3BvbnNlKSlcbiAgICAgICAgLy8gICAgIC5jYXRjaChlcnJvciA9PiBjb25zb2xlLmxvZygnRXJyb3I6JywgZXJyb3IpKTtcbiAgICAgICAgLy8gcmV0dXJuIHRydWU7XG4gICAgfVxufSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/background.js\n");

/***/ })

})